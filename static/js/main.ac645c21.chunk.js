(this["webpackJsonpy-dm-toolkit"]=this["webpackJsonpy-dm-toolkit"]||[]).push([[0],{67:function(e,t,c){},68:function(e,t,c){},78:function(e,t){},80:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(14),i=c.n(a),s=c(9),o=c(10),j=c(22),d=c.n(j),l=c(34),u=c(35),b=c.n(u).a.create({baseURL:"http://www.omdbapi.com"}),m=Object(o.c)({name:"layout",initialState:{loading:!1},reducers:{loading:function(e,t){var c=t.payload;e.loading=c}}}),O=m.actions.loading,v=function(e){return e.layout.loading},h=m.reducer,f=Object(o.b)("movies/fetchAllMovies",function(){var e=Object(l.a)(d.a.mark((function e(t,c){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.dispatch,e.prev=1,n(O(!0)),e.next=5,b.get("?apiKey=".concat("82a187","&s=").concat(t.trim()||"avengers","&type=movie"));case 5:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,n(O(!1)),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(t,c){return e.apply(this,arguments)}}()),x=Object(o.c)({name:"movies",initialState:{movies:{}},reducers:{addMovies:function(e,t){var c=t.payload;e.movies=c}},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){var c=t.payload;e.movies=c})).addCase(f.rejected,(function(e,t){console.log(e,t)}))}}),p=(x.actions.addMovies,function(e){return e.movies.movies}),g=x.reducer,N=Object(o.a)({reducer:{movies:g,layout:h}}),y=c(11),w=c(3),M=(c(67),c.p+"static/media/user.c9869279.jpeg"),k=(c(68),c(37)),T=c(15),S=c.n(T),C=(c(80),c(1));var E=function(){var e=Object(w.f)(),t=Object(n.useState)(""),c=Object(k.a)(t,2),r=c[0],a=c[1],i=Object(n.useCallback)((function(e){a(e.target.value)}),[]);return Object(n.useEffect)((function(){var t={term:r};e.push({search:S.a.stringify(t)})}),[r]),Object(C.jsx)("div",{className:"search-wrapper",children:Object(C.jsx)("input",{type:"text",placeholder:"search term",value:r,onChange:i})})};function F(){return Object(C.jsxs)("header",{className:"header",children:[Object(C.jsx)(y.b,{to:"/",children:Object(C.jsx)("div",{className:"logo",children:"Movie App"})}),Object(C.jsxs)("div",{className:"header-right",children:[Object(C.jsx)("div",{children:Object(C.jsx)(E,{})}),Object(C.jsx)("div",{className:"user-image",children:Object(C.jsx)("img",{src:M,alt:"user"})})]})]})}c(86);function I(){return Object(C.jsxs)("footer",{className:"footer",children:[Object(C.jsx)("div",{children:"Movie App"}),Object(C.jsxs)("div",{children:["\xa9",(new Date).getFullYear()," Movie, Inc. or its affiliates"]})]})}c(87);function L(){var e=Object(s.c)(v);return Object(n.useEffect)((function(){e?document.body.classList.add("loading"):document.body.classList.remove("loading")}),[e]),Object(C.jsxs)("div",{className:"loading-container",children:[Object(C.jsx)("div",{className:"spin"}),Object(C.jsx)("span",{children:"Loading"})]})}c(88),c(89);function R(e){var t=e.data;return Object(C.jsx)("li",{className:"card-item",children:Object(C.jsx)(y.b,{to:"/movie/".concat(t.imdbID),children:Object(C.jsxs)("div",{className:"card-inner",children:[Object(C.jsx)("div",{className:"card-top",children:Object(C.jsx)("img",{src:t.Poster,alt:t.Title})}),Object(C.jsx)("div",{className:"card-bottom",children:Object(C.jsxs)("div",{className:"card-info",children:[Object(C.jsx)("h4",{children:t.Title}),Object(C.jsx)("p",{children:t.Year})]})})]})})})}function A(){var e,t=Object(s.c)(p);return e="True"===t.Response?t.Search.map((function(e,t){return Object(C.jsx)(R,{data:e},t)})):Object(C.jsx)("div",{className:"movies-error",children:Object(C.jsx)("h3",{children:t.error})}),Object(C.jsx)("div",{className:"movie-wrapper",children:Object(C.jsxs)("div",{className:"movie-list",children:[Object(C.jsx)("h2",{children:"Movies"}),Object(C.jsx)("ul",{className:"movie-container",children:e})]})})}function D(){var e=Object(s.b)(),t=Object(w.g)(),c=Object(n.useRef)();return Object(n.useEffect)((function(){return c.current&&clearTimeout(c.current),c.current=setTimeout((function(){var c=S.a.parse(t.search,{ignoreQueryPrefix:!0}).term;e(f(c))}),1e3),function(){clearTimeout(c.current)}}),[t]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"banner-img"}),Object(C.jsx)(A,{})]})}function P(){return Object(C.jsx)("div",{children:"MovieDetail"})}function J(){return Object(C.jsx)("div",{children:"PageNotFound"})}var Y=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"app",children:Object(C.jsxs)(y.a,{children:[Object(C.jsx)(F,{}),Object(C.jsx)("main",{className:"container",children:Object(C.jsxs)(w.c,{children:[Object(C.jsx)(w.a,{path:"/",exact:!0,component:D}),Object(C.jsx)(w.a,{path:"/movie/:imdbId",component:P}),Object(C.jsx)(w.a,{component:J})]})}),Object(C.jsx)(I,{})]})}),Object(C.jsx)(L,{})]})};i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(s.a,{store:N,children:Object(C.jsx)(Y,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.ac645c21.chunk.js.map